{% block tabTaxons %}
    {% if configuration.INTERACTIVE_MAP_LIST %}
        <style>
            #taxonListItem:hover {
                background-color: #cccccc;
                cursor: pointer;
            }
        </style>
    {% endif %}
        <div class="bg-white border-end p-2">
            <div class="row g-2">
                <div class="col-auto dropdown">
                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" id="groupFilterDropdown" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                        {{ _('filter') }}
                        <span id="nbFilter"></span>
                    </button>
                    <ul class="dropdown-menu p-2" id="groupFilterList" aria-labelledby="groupFilterDropdown" style="min-width: 260px">
                        {% if configuration.AFFICHAGE_MENACE %}
                            <li id="threatened" class="px-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="g-threat" data-group="threatened">
                                    <label class="form-check-label" for="g-threat">{{ _('threatened.plural') }}</label>
                                </div>
                            </li>
                            <li><hr class="dropdown-divider"></li>
                        {% endif %}
                        {% if configuration.PROTECTION %}
                            <li id="protected" class="px-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="g-protect">
                                    <label class="form-check-label" for="g-protect">{{ _('protected.plural') }}</label>
                                </div>
                            </li>
                            <li><hr class="dropdown-divider"></li>
                        {% endif %}
                        {% if configuration.DISPLAY_PATRIMONIALITE %}
                            <li id="patrimonial" class="px-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="g-patrimonial">
                                    <label class="form-check-label" for="g-patrimonial">{{ _('patrimonial.plural') }}</label>
                                </div>
                            </li>
                            <li><hr class="dropdown-divider"></li>
                        {% endif %}
                        {% if group2_inpn %}
                            <span class="groupINPN-block">
                                {% for group in group2_inpn %}
                                <li class="px-1 groupINPN">
                                    <div class="form-check">
                                        <input class="form-check-input group-check" type="checkbox" id="g-{{group}}" value="{{group}}">
                                        <label class="form-check-label" for="g-{{group}}">{{group}}</label>
                                    </div>
                                </li>
                                {% endfor %}
                                <li><hr class="dropdown-divider"></li>
                            
                            </span>
                        {% endif %}
                        <li class="d-flex flex-row-reverse">
                            <button 
                                type="button" 
                                class="btn btn-outline-danger" 
                                id="btn-clear"
                                data-bs-toggle="tooltip"
                                title="{{ _('refresh.filters') }}"
                            >
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </li>
                    </ul>   
                </div>
                <div class="col">
                    <input id="taxonInput" type="text" class="form-control form-control-sm" placeholder="{{ _('filter.species') }}" />
                </div>
            </div>
            
        </div>
    <div id="taxonList" class="d-flex align-content-stretch bg-white flex-grow-1" style="position: relative">
        <ul class="list-group w-100">
            {% include 'templates/core/taxon.html' %}
        </ul>
    </div>
    <div class="bg-white border-top border-2 px-3 py-3 text-center shadow-sm" style="border-color: #e0e0e0;">
        <div class="d-inline-flex gap-2">
            <button id="exportCsvBtn" class="btn btn-outline-primary btn-sm" data-filename="La biodiversité de {{areaInfos.areaName }} ({{ areaInfos.typeName }} : {{ areaInfos.areaCode }}).csv">
                <i class="fas fa-file-csv me-1"></i> {{ _('export.csv') }}
            </button>
            <button id="exportPdfBtn" class="btn btn-outline-danger btn-sm" data-filename="La biodiversité de {{areaInfos.areaName }} ({{ areaInfos.typeName }} : {{ areaInfos.areaCode }}).pdf">
                <i class="fas fa-file-pdf me-1"></i> {{ _('export.pdf') }}
            </button>
        </div>
    </div>
    <div id="list-taxon-loader-spinner" class="spinner-grow text-primary" role="status">
        <span class="visually-hidden">{{ _('loading') }}</span>
    </div>
    {% block additionalFooterAssets %}
        <script>
            window.module = {exports: {}};
            var configuration = {{configuration|tojson}};
            // set the context for list taxon : if we are on area, taxon rank sheet, last_obs etc...
            var context = {{context | tojson}};
        </script>
        <script src="{{ url_for('static', filename='node_modules/debounce/index.js') }}"></script>
        <script src="{{ url_for('static', filename='listeEspeces.js') }}"></script>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/listEspeces.css') }}"/>
    {% endblock %}
{% endblock %}
